<div ng-if="!edit">
    <span class="badge" ng-repeat="x in obj[relation]">
        &nbsp;{{x[display]}}<button class="btn btn-link btn-sm" ng-click="remove(x)"><span class="fa fa-close"></span></button>
    </span>
    <div class="pull-right">
        <button class="btn btn-default btn-sm" ng-click="startEdit()"><span class="fa fa-plus"></span></button>
    </div>
</div>

<div ng-if="edit">
    <input ng-model="typed" class="form-control" focus autocomplete="off"
           uib-typeahead="x as x[display] for x in lookup($viewValue)"
           typeahead-editable="false"
           typeahead-select-on-exact="true"
           typeahead-select-on-blur="true"
           typeahead-on-select="select($item)"
           ng-blur="stopEdit()"/>
    <div ng-show="noResults">
        <i class="glyphicon glyphicon-remove"></i> No Results Found
    </div>
</div>
